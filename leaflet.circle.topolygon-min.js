(function(e){var o;if(typeof define==="function"&&define.amd){define(["leaflet"],e)}else if(typeof module!=="undefined"){o=require("leaflet");module.exports=e(o)}else{if(typeof window.L==="undefined"){throw new Error("Leaflet must be loaded first")}e(window.L)}})(function(p){"use strict";p.Circle.SECTIONS_COUNT=64;p.Circle.toPolygon=function(e,o,t){t=t||e._map;if(!t){throw Error("Can't figure out points without adding the feature to the map")}var i=[],n=t.options.crs,r=Math.PI*2,f=0,a,l,u,d,c;if(n===p.CRS.EPSG3857){d=t.latLngToLayerPoint.bind(t);c=t.layerPointToLatLng.bind(t);l=e._radius}else{d=n.projection.project.bind(n.projection);c=n.projection.unproject.bind(n.projection);l=e._mRadius}a=d(e._latlng);o=o||p.Circle.SECTIONS_COUNT;for(var s=0;s<o;s++){f-=r/o;u=new p.Point(a.x+l*Math.cos(f),a.y+l*Math.sin(f));if(s>0&&u.equals(i[s-1])){continue}i.push(c(u))}return i};p.Circle.prototype.toPolygon=function(e,o){return p.Circle.toPolygon(this,e,o||this._map)}});
